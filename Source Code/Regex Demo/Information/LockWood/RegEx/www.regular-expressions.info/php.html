<HTML>
<!-- Mirrored from www.regular-expressions.info/php.html by HTTrack Website Copier/3.x [XR&CO'2002], Mon, 14 Nov 2005 11:48:04 GMT -->
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<TITLE>Using Regular Expressions with PHP</TITLE>

<META NAME="Author" CONTENT="Jan Goyvaerts">
<META NAME="Description" CONTENT="Learn how to use PHP's two sets of regular expression functions">
<META NAME="Keywords" CONTENT="">
<LINK REL=StyleSheet HREF="regex.css" TYPE="text/css">
</HEAD>
<BODY BGCOLOR=white TEXT=black>
<DIV CLASS=top><DIV CLASS=logo><IMG SRC="img/logo.gif" WIDTH=530 HEIGHT=100></DIV></DIV>
<DIV CLASS=btntop><A CLASS=btntop HREF="tutorial.html" TARGET="_top">&nbsp;Tutorial&nbsp;</A><A CLASS=btntop HREF="tools.html" TARGET="_top">&nbsp;Tools&nbsp;&amp;&nbsp;Languages&nbsp;</A><A CLASS=btntop HREF="examples.html" TARGET="_top">&nbsp;Examples&nbsp;</A><A CLASS=btntop HREF="books.html" TARGET="_top">&nbsp;Books&nbsp;&amp;&nbsp;Reference&nbsp;</A></DIV>
<DIV CLASS=bodytext>
<TABLE CLASS=topad> <TR><TD VALIGN=top><A HREF="http://www.regexbuddy.com/php.html" TARGET="_top"><IMG SRC="img/rxb48.gif" WIDTH=48 HEIGHT=48 ALT="RegexBuddy" BORDER=0></A></TD> <TD CLASS=topad><A HREF="http://www.regexbuddy.com/php.html" TARGET="_top">Easily use the power of regular expressions in your PHP scripts</A> with RegexBuddy.<BR> Create and analyze regex patterns with RegexBuddy's intuitive regex building blocks. Implement regexes in your PHP scripts with instant PHP code snippets. Just tell RegexBuddy what you want to achieve, and copy and paste the auto-generated PHP code. <A HREF="http://www.regexbuddy.com/">Get your own copy of RegexBuddy now</A>.</TD> </TR></TABLE> <H1>PHP Provides Two Sets of Regular Expression Functions</H1> <P>PHP is an open source language for producing dynamic web pages, similar to ASP. PHP has two sets of functions that allow you to work with <A HREF="index-2.html" TARGET="_top">regular expressions</A>.</P> <P>The first set of regex functions are those that start with <TT CLASS=code>ereg</TT>. They implement a basic set of regular expression functionality, much like the traditional UNIX egrep command. The advantage of the <TT CLASS=code>ereg</TT> functions is that they are supported by all but the oldest versions of PHP. However, many of the more modern regex features such as <A HREF="repeat.html" TARGET="_top">lazy quantifiers</A> and <A HREF="lookaround.html" TARGET="_top">lookaround</A> are not supported by the <TT CLASS=code>ereg</TT> functions.</P> <P>The second set of regex functions start with <TT CLASS=code>preg</TT>. These functions are only available if your version of PHP was compiled with support for the <A HREF="pcre.html" TARGET="_top">PCRE library</A>, and the PCRE library is installed on your web server. Just like the PCRE library, the <TT CLASS=code>preg</TT> functions support the complete regular expression syntax described by the <A HREF="tutorial.html" TARGET="_top">regular expression tutorial</A> on this website .</P> <P>If you are developing PHP scripts that will be used by others on their own servers, I recommend that you restrict yourself to the <TT CLASS=code>ereg</TT> functions, for maximum compatibility. But if you know the servers your script will be used on support the <TT CLASS=code>preg</TT> functions, then by all means use them.</P> <H2>The ereg Function Set</H2> <P>The <TT CLASS=code>ereg</TT> functions require you to specify the regular expression as a string, as you would expect. <TT CLASS=code>ereg('regex', "subject")</TT> checks if <TT CLASS=regex>regex</TT> matches <TT CLASS=string>subject</TT>. You should use single quotes when passing a regular expression as a literal string. Several <A HREF="characters.html" TARGET="_top">special characters</A> like the dollar and backslash are also special characters in double-quoted PHP strings, but not in single-quoted PHP strings.</P> <P><TT CLASS=code>bool <B>ereg</B> (string pattern, string subject [, array groups])</TT> returns TRUE if the regular expression pattern matches the subject string or part of the subject string. If you specify the third parameter, <TT CLASS=code>ereg</TT> will store the substring matched by the part of the regular expression between the first pair of <A HREF="brackets.html" TARGET="_top">round brackets</A> in $groups[1]. $groups[2] will contain the second pair, and so on. Note that grouping-only round brackets are not supported by ereg. <TT CLASS=code>ereg</TT> is case sensitive. <TT CLASS=code>eregi</TT> is the case insensitive equivalent.</P> <P><TT CLASS=code>string <B>ereg_replace</B> (string pattern, string replacement, string subject)</TT> replaces all matches of the regex patten in the subject string with the replacement string. You can use <A HREF="brackets.html" TARGET="_top">backreferences</A> in the replacement string. <TT CLASS=code>\\0</TT> is the entire regex match, <TT CLASS=code>\\1</TT> is the first backreference, <TT CLASS=code>\\2</TT> the second, etc. The highest possible backreference is <TT CLASS=code>\\9</TT>. <TT CLASS=code>ereg_replace</TT> is case sensitive. <TT CLASS=code>eregi_replace</TT> is the case insensitive equivalent.</P> <P><TT CLASS=code>array <B>split</B> (string pattern, string subject [, int limit])</TT> splits the subject string into an array of strings using the regular expression pattern. The array will contain the substrings between the regular expression matches. The text actually matched is discarded. If you specify a limit, the resulting array will contain at most that many substrings. The subject string will be split at most limit-1 times, and the last item in the array will contain the unsplit remainder of the subject string. <TT CLASS=code>split</TT> is case sensitive. <TT CLASS=code>spliti</TT> is the case insensitive equivalent.</P> <P><A HREF="http://www.php.net/manual/en/function.ereg.php">See the PHP manual for more information on the ereg function set</A></P> <H2>The preg Function Set</H2> <P>All of the <TT CLASS=code>preg</TT> functions require you to specify the regular expression as a string using Perl syntax. In Perl, <TT CLASS=code>/regex/</TT> defines a regular expression. In PHP, this becomes <TT CLASS=code>preg_match('/regex/', $subject)</TT>. Forward slashes in the regular expression have to be escaped with a backslash. So <TT CLASS=regex>http://www.jgsoft.com/</TT> becomes <TT CLASS=code>'/http:\/\/www.jgsoft.com\//'</TT>.</P> <P>To specify regex matching options such as case insensitivity are specified in the same way as in Perl. <TT CLASS=code>'/regex/i'</TT> applies the regex case insensitively. <TT CLASS=code>'/regex/s'</TT> makes the <A HREF="dot.html" TARGET="_top">dot</A> match all characters. <TT CLASS=code>'/regex/m'</TT> makes the <A HREF="anchors.html" TARGET="_top">start and end of line anchors</A> match at embedded newlines in the subject string. You can specify multiple letters to turn on several options. <TT CLASS=code>'/regex/mis'</TT> turns on all three options. See the PHP manual for the <A HREF="http://www.php.net/manual/en/pcre.pattern.modifiers.php">complete list of options</A>. Mostly, you will only use these three.</P> <P>Like the <TT CLASS=code>ereg</TT> function, <TT CLASS=code>bool <B>preg_match</B> (string pattern, string subject [, array groups])</TT> returns TRUE if the regular expression pattern matches the subject string or part of the subject string. If you specify the third parameter, <TT CLASS=code>preg</TT> will store the substring matched by the part of the regular expression between the first pair of <A HREF="brackets.html" TARGET="_top">capturing parentheses</A> in $groups[1]. $groups[2] will contain the second pair, and so on. If the regex pattern uses <A HREF="named.html" TARGET="_top">named capture</A>, you can access the groups by name with <TT CLASS=code>$groups['name']</TT>.</P> <P><TT CLASS=code>int <B>preg_match_all</B> (string pattern, string subject, array matches, int flags)</TT> fills the array "matches" with all the matches of the regular expression pattern in the subject string. If you specify PREG_SET_ORDER as the flag, then <TT CLASS=code>$matches[0]</TT> is an array containing the match and backreferences of the first match, just like the <TT CLASS=code>$groups</TT> array filled by <TT CLASS=code>preg_match</TT>. <TT CLASS=code>$matches[1]</TT> holds the results for the second match, and so on. If you specify PREG_PATTERN_ORDER, then <TT CLASS=code>$matches[0]</TT> is an array with full subsequent regex matches, <TT CLASS=code>$matches[1]</TT> an array with the first backreference of all matches, <TT CLASS=code>$matches[2]</TT> an array with the second backreference of each match, etc.</P> <P><TT CLASS=code>array <B>preg_grep</B> (string pattern, array subjects)</TT> returns an array that contains all the strings in the array "subjects" that can be matched by the regular expression pattern.</P> <P>Like <TT CLASS=code>ereg_replace</TT>, <TT CLASS=code>mixed <B>preg_replace</B> (mixed pattern, mixed replacement, mixed subject [, int limit])</TT> returns a string with all matches of the regex pattern in the subject string replaced with the replacement string. At most <TT CLASS=code>limit</TT> replacements are made. One key difference is that all parameters, except limit, can be arrays instead of strings. In that case, <TT CLASS=code>preg_replace</TT> does its job multiple times, iterating over the elements in the arrays simultaneously. You can also use strings for some parameters, and arrays for others. Then the function will iterate over the arrays, and use the same strings for each iteration. Using an array of the pattern and replacement, allows you to perform a sequence of search and replace operations on a single subject string. Using an array for the subject string, allows you to perform the same search and replace operation on many subject strings.</P> <P><TT CLASS=code>array <B>preg_split</B> (string pattern, string subject [, int limit])</TT> works just like <TT CLASS=code>split</TT>, except that it uses the Perl syntax for the regex pattern.</P> <P><A HREF="http://www.php.net/manual/en/function.preg-match.php">See the PHP manual for more information on the preg function set</A></P><DIV CLASS=copyright> <P CLASS=copyright>Page URL: <A HREF="php.html" TARGET="_top">http://www.Regular-Expressions.info/php.html</A><BR> Last Updated: 31 May 2004<BR> Copyright &copy; 2003-2005 Jan Goyvaerts. All rights reserved.</P> </DIV> </DIV> <DIV CLASS=side><TABLE CLASS=side CELLSPACING=0 CELLPADDING=4><TR><TD CLASS=sideheader>Regex Tools</TD></TR><TR><TD><A HREF="grep.html" TARGET=_top>grep</A></TD></TR><TR><TD><A HREF="powergrep.html" TARGET=_top>PowerGREP</A></TD></TR><TR><TD><A HREF="regexbuddy.html" TARGET=_top>RegexBuddy</A></TD></TR>
</TABLE><TABLE CLASS=side CELLSPACING=0 CELLPADDING=4><TR><TD CLASS=sideheader>General Applications</TD></TR><TR><TD><A HREF="editpadpro.html" TARGET=_top>EditPad&nbsp;Pro</A></TD></TR>
</TABLE><TABLE CLASS=side CELLSPACING=0 CELLPADDING=4><TR><TD CLASS=sideheader>Languages &amp; Libraries</TD></TR><TR><TD><A HREF="delphi.html" TARGET=_top>Delphi</A></TD></TR><TR><TD><A HREF="java.html" TARGET=_top>Java</A></TD></TR><TR><TD><A HREF="javascript.html" TARGET=_top>JavaScript</A></TD></TR><TR><TD><A HREF="dotnet.html" TARGET=_top>.NET</A></TD></TR><TR><TD><A HREF="pcre.html" TARGET=_top>PCRE</A></TD></TR><TR><TD><A HREF="perl.html" TARGET=_top>Perl</A></TD></TR><TR><TD><A HREF="php.html" TARGET=_top>PHP</A></TD></TR><TR><TD><A HREF="python.html" TARGET=_top>Python</A></TD></TR><TR><TD><A HREF="ruby.html" TARGET=_top>Ruby</A></TD></TR>
</TABLE><TABLE CLASS=side CELLSPACING=0 CELLPADDING=4><TR><TD CLASS=sideheader>More Information</TD></TR><TR><TD><A HREF="index-2.html" TARGET=_top>Introduction</A></TD></TR><TR><TD><A HREF="quickstart.html" TARGET=_top>Quick&nbsp;Start</A></TD></TR><TR><TD><A HREF="tutorial.html" TARGET=_top>Tutorial</A></TD></TR><TR><TD><A HREF="tools.html" TARGET=_top>Tools&nbsp;and&nbsp;Languages</A></TD></TR><TR><TD><A HREF="examples.html" TARGET=_top>Examples</A></TD></TR><TR><TD><A HREF="books.html" TARGET=_top>Books</A></TD></TR><TR><TD><A HREF="reference.html" TARGET=_top>Reference</A></TD></TR><TR><TD><A HREF="about.html" TARGET=_top>About&nbsp;This&nbsp;Site</A></TD></TR><TR><TD><A HREF="print.html" TARGET=_top>Download&nbsp;and&nbsp;Print</A></TD></TR></TABLE><P>&nbsp;</P> <TABLE CLASS=side CELLSPACING=0 CELLPADDING=4> <TR><TD CLASS=sideheader>PowerGREP 3</TD></TR> <TR><TD CLASS=ad><A HREF="http://www.powergrep.com/" TARGET=_top><IMG SRC="img/pgr.gif" WIDTH=32 HEIGHT=32 ALT="PowerGREP" ALIGN=LEFT CLASS=iconleft BORDER=0></A> <A HREF="http://www.powergrep.com/" TARGET=_top>PowerGREP</A> is probably the most powerful regex-based text processing tool available today. A knowledge worker's Swiss army knife for searching through, extracting information from, and updating piles of files.</TD></TR> <TR><TD CLASS=ad>Use regular expressions to search through large numbers of text and binary files, such as source code, correspondence, server or system logs, reference texts, archives, etc. Quickly find the files you are looking for, or extract the information you need. Look through just a handful of files, or thousands of files and folders.</TD></TR> <TR><TD CLASS=ad>Perform comprehensive text and binary replacement operations for easy maintenance of web sites, source code, reports, etc. Preview replacements before modifying files, and stay safe with flexible backup and undo options.</TD></TR> <TR><TD CLASS=ad>Work with plain text files, Unicode files, binary files, files stored in zip archives, and even MS Word documents, Excel spreadsheets and PDF files. Runs on Windows 98, ME, NT4, 2000 &amp; XP.</TD></TR> <TR><TD><A HREF="http://www.powergrep.com/" TARGET=_top>More information</A></TD></TR> <TR><TD><A HREF="http://www.powergrep.com/download.html" TARGET=_top>Download PowerGREP now</A></TD></TR> </TABLE></DIV></BODY>
<!-- Mirrored from www.regular-expressions.info/php.html by HTTrack Website Copier/3.x [XR&CO'2002], Mon, 14 Nov 2005 11:48:04 GMT -->
</HTML>