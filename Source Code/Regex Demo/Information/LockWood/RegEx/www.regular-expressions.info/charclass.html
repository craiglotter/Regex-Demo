<HTML>
<!-- Mirrored from www.regular-expressions.info/charclass.html by HTTrack Website Copier/3.x [XR&CO'2002], Mon, 14 Nov 2005 11:48:32 GMT -->
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<TITLE>Regexp Tutorial - Character Classes or Character Sets</TITLE>

<META NAME="Author" CONTENT="Jan Goyvaerts">
<META NAME="Description" CONTENT="In a regular expression, square brackets are used to indicate character classes, which matches any of the characters in the character set.">
<META NAME="Keywords" CONTENT="">
<LINK REL=StyleSheet HREF="regex.css" TYPE="text/css">
</HEAD>
<BODY BGCOLOR=white TEXT=black>
<DIV CLASS=top><DIV CLASS=logo><IMG SRC="img/logo.gif" WIDTH=530 HEIGHT=100></DIV></DIV>
<DIV CLASS=btntop><A CLASS=btntop HREF="tutorial.html" TARGET="_top">&nbsp;Tutorial&nbsp;</A><A CLASS=btntop HREF="tools.html" TARGET="_top">&nbsp;Tools&nbsp;&amp;&nbsp;Languages&nbsp;</A><A CLASS=btntop HREF="examples.html" TARGET="_top">&nbsp;Examples&nbsp;</A><A CLASS=btntop HREF="books.html" TARGET="_top">&nbsp;Books&nbsp;&amp;&nbsp;Reference&nbsp;</A></DIV>
<DIV CLASS=bodytext>
<TABLE CLASS=topad> <TR><TD VALIGN=top><A HREF="http://www.regexbuddy.com/create.html" TARGET="_top"><IMG SRC="img/rxb48.gif" WIDTH=48 HEIGHT=48 ALT="RegexBuddy" BORDER=0></A></TD> <TD CLASS=topad><A HREF="http://www.regexbuddy.com/create.html" TARGET="_top">Easily create and understand regular expressions today</A>. Compose and analyze regex patterns with RegexBuddy's easy-to-grasp regex blocks and intuitive regex tree, instead of or in combination with the traditional regex syntax. Developed by the author of this web site, RegexBuddy makes learning and using regular expressions easier than ever. <A HREF="http://www.regexbuddy.com/">Get your own copy of RegexBuddy now</A>, and get a FREE printable PDF version of the regex tutorial on this web site.</TD> </TR></TABLE> <H1>Character Classes or Character Sets</H1> <P>With a "character class", also called "character set", you can tell the regex engine to match only one out of several characters. Simply place the characters you want to match between square brackets. If you want to match an a or an e, use <TT CLASS=regex>[ae]</TT>. You could use this in <TT CLASS=regex>gr[ae]y</TT> to match either <TT CLASS=match>gray</TT> or <TT CLASS=match>grey</TT>. Very useful if you do not know whether the document you are searching through is written in American or British English.</P> <P>A character class matches only a single character. <TT CLASS=regex>gr[ae]y</TT> will not match <TT CLASS=string>graay</TT>, <TT CLASS=string>graey</TT> or any such thing. The order of the characters inside a character class does not matter. The results are identical.</P> <P>You can use a hyphen inside a character class to specify a range of characters. <TT CLASS=regex>[0-9]</TT> matches a <I>single</I> digit between 0 and 9. You can use more than one range. <TT CLASS=regex>[0-9a-fA-F]</TT> matches a single hexadecimal digit, case insensitively. You can combine ranges and single characters. <TT CLASS=regex>[0-9a-fxA-FX]</TT> matches a hexadecimal digit or the letter X. Again, the order of the characters and the ranges does not matter.</P> <H2>Useful Applications</H2> <P>Find a word, even if it is misspelled, such as <TT CLASS=regex>sep[ae]r[ae]te</TT> or <TT CLASS=regex>li[cs]en[cs]e</TT>.</P> <P>Find an identifier in a programming language with <TT CLASS=regex>[A-Za-z_][A-Za-z_0-9]*</TT>.</P> <P>Find a C-style hexadecimal number with <TT CLASS=regex>0[xX][A-Fa-f0-9]+</TT>.</P> <A NAME="negated"></A><H2>Negated Character Classes</H2> <P>Typing a caret after the opening square bracket will negate the character class. The result is that the character class will match any character that is <I>not</I> in the character class. Unlike the <A HREF="dot.html" TARGET="_top">dot</A>, negated character classes also match (invisible) line break characters.</P> <P>It is important to remember that a negated character class still must match a character. <TT CLASS=regex>q[^u]</TT> does <EM>not</EM> mean: "a q not followed by a u". It means: "a q followed by a character that is not a u". It will not match the q in the string <TT CLASS=string>Iraq</TT>. It will match the q and the space after the q in <TT CLASS=string>Iraq is a country</TT>. Indeed: the space will be part of the overall match, because it is the "character that is not a u" that is matched by the negated character class in the above regexp. If you want the regex to match the q, and only the q, in both strings, you need to use <A HREF="lookaround.html" TARGET="_top">negative lookahead</A>: <TT CLASS=regex>q(?!u)</TT>. But we will get to that later.</P> <H2>Metacharacters Inside Character Classes</H2> <P>Note that the only special characters or metacharacters inside a character class are the closing bracket (]), the backslash (\), the caret (^) and the hyphen (-). The <A HREF="characters.html#special">usual metacharacters</A> are normal characters inside a character class, and do not need to be escaped by a backslash. To search for a star or plus, use <TT CLASS=regex>[+*]</TT>. Your regex will work fine if you escape the regular metacharacters inside a character class, but doing so significantly reduces readability.</P> <P>To include a backslash as a character without any special meaning inside a character class, you have to escape it with another backslash. <TT CLASS=regex>[\\x]</TT> matches a backslash or an x. The closing bracket (]), the caret (^) and the hyphen (-) can be included by escaping them with a backslash, or by placing them in a position where they do not take on their special meaning. I recommend the latter method, since it improves readability. To include a caret, place it anywhere except right after the opening bracket. <TT CLASS=regex>[x^]</TT> matches an x or a caret. You can put the closing bracket right after the opening bracket, or the negating caret. <TT CLASS=regex>[]x]</TT> matches a closing bracket or an x. <TT CLASS=regex>[^]x]</TT> matches any character that is not a closing bracket or an x. The hyphen can be included right after the opening bracket, or right before the closing bracket, or right after the negating caret. Both <TT CLASS=regex>[-x]</TT> and <TT CLASS=regex>[x-]</TT> match an x or a hyphen.</P> <P>You can use <A HREF="characters.html#nonprint">non-printable characters</A> in character classes just like you can use them outside of character classes. E.g. <TT CLASS=regex>[$\u20A0]</TT> matches a dollar or euro sign, assuming your regex flavor supports <A HREF="unicode.html" TARGET="_top">Unicode</A>.</P> <A NAME="shorthand"></A><H2>Shorthand Character Classes</H2> <P>Since certain character classes are used often, a series of shorthand character classes are available. <TT CLASS=regex>\d</TT> is short for <TT CLASS=regex>[0-9]</TT>.</P> <P><TT CLASS=regex>\w</TT> stands for "word character". Exactly which characters it matches differs between regex flavors. In all flavors, it will include <TT CLASS=regex>[A-Za-z]</TT>. In most, the underscore and digits are also included. In some flavors, word characters from other languages may also match. The best way to find out is to do a couple of tests with the regex flavor you are using. In the screen shot, you can see the characters matched by <TT CLASS=regex>\w</TT> in <A HREF="regexbuddy.html" TARGET="_top">RegexBuddy</A> using various scripts.</P> <P><IMG SRC="screens/rxbcharclass.png" WIDTH=623 HEIGHT=573 ALT="Characters matched by \w in RegexBuddy"></P> <P><TT CLASS=regex>\s</TT> stands for "whitespace character". Again, which characters this actually includes, depends on the regex flavor. In all flavors discussed in this tutorial, it includes <TT CLASS=regex>[ \t]</TT>. That is: <TT CLASS=regex>\s</TT> will match a space or a tab. In most flavors, it also includes a carriage return or a line feed as in <TT CLASS=regex>[ \t\r\n]</TT>. Some flavors include additional, rarely used <A HREF="characters.html#nonprint">non-printable characters</A> such as vertical tab and form feed.</P> <P>Shorthand character classes can be used both inside and outside the square brackets. <TT CLASS=regex>\s\d</TT> matches a whitespace character followed by a digit. <TT CLASS=regex>[\s\d]</TT> matches a single character that is either whitespace or a digit. When applied to <TT CLASS=string>1&nbsp;+&nbsp;2&nbsp;=&nbsp;3</TT>, the former regex will match <TT CLASS=match>&nbsp;2</TT> (space two), while the latter matches <TT CLASS=match>1</TT> (one). <TT CLASS=regex>[\da-fA-F]</TT> matches a hexadecimal digit, and is equivalent to <TT CLASS=regex>[0-9a-fA-F]</TT>.</P> <H2>Negated Shorthand Character Classes</H2> <P>The above three shorthands also have negated versions. <TT CLASS=regex>\D</TT> is the same as <TT CLASS=regex>[^\d]</TT>, <TT CLASS=regex>\W</TT> is short for <TT CLASS=regex>[^\w]</TT> and <TT CLASS=regex>\S</TT> is the equivalent of <TT CLASS=regex>[^\s]</TT>.</P> <P>Be careful when using the negated shorthands inside square brackets. <TT CLASS=regex>[\D\S]</TT> is <EM>not</EM> the same as <TT CLASS=regex>[^\d\s]</TT>. The latter will match any character that is not a digit or whitespace. So it will match <TT CLASS=match>x</TT>, but not <TT CLASS=string>8</TT>. The former, however, will match any character that is either not a digit, or is not whitespace. Because a digit is not whitespace, and whitespace is not a digit, <TT CLASS=regex>[\D\S]</TT> will match any character, digit, whitespace or otherwise.</P> <H2>Repeating Character Classes</H2> <P>If you repeat a character class by using the <TT CLASS=regex>?</TT>, <TT CLASS=regex>*</TT> or <TT CLASS=regex>+</TT> operators, you will repeat the entire character class, and not just the character that it matched. The regex <TT CLASS=regex>[0-9]+</TT> can match <TT CLASS=match>837</TT> as well as <TT CLASS=match>222</TT>.</P> <P>If you want to repeat the matched character, rather than the class, you will need to use backreferences. <TT CLASS=regex>([0-9])\1+</TT> will match <TT CLASS=match>222</TT> but not <TT CLASS=string>837</TT>. When applied to the string <TT CLASS=string>833337</TT>, it will match <TT CLASS=match>3333</TT> in the middle of this string. If you do not want that, you need to use lookahead and lookbehind.</P> <P>But I digress. I did not yet explain how character classes work inside the regex engine. Let us take a look at that first.</P> <H2>Looking Inside The Regex Engine</H2> <P>As I already said: the order of the characters inside a character class does not matter. <TT CLASS=regex>gr[ae]y</TT> will match <TT CLASS=match>grey</TT> in <TT CLASS=string>Is his hair grey or gray?</TT>, because that is the <I>leftmost match</I>. We already saw <A HREF="engine.html" TARGET="_top">how the engine applies a regex consisting only of literal characters</A>. Below, I will explain how it applies a regex that has more than one permutation. That is: <TT CLASS=regex>gr[ae]y</TT> can match both <TT CLASS=match>gray</TT> and <TT CLASS=match>grey</TT>.</P> <P>Nothing noteworthy happens for the first twelve characters in the string. The engine will fail to match <TT CLASS=regex>g</TT> at every step, and continue with the next character in the string. When the engine arrives at the 13th character, <TT CLASS=match>g</TT> is matched. The engine will then try to match the remainder of the regex with the text. The next token in the regex is the literal <TT CLASS=regex>r</TT>, which matches the next character in the text. So the third token, <TT CLASS=regex>[ae]</TT> is attempted at the next character in the text (<TT CLASS=string>e</TT>). The character class gives the engine two options: match <TT CLASS=regex>a</TT> or match <TT CLASS=regex>e</TT>. It will first attempt to match <TT CLASS=regex>a</TT>, and fail.</P> <P>But because we are using a regex-directed engine, it must continue trying to match all the other permutations of the regex pattern before deciding that the regex cannot be matched with the text starting at character 13. So it will continue with the other option, and find that <TT CLASS=regex>e</TT> matches <TT CLASS=match>e</TT>. The last regex token is <TT CLASS=regex>y</TT>, which can be matched with the following character as well. The engine has found a complete match with the text starting at character 13. It will return <TT CLASS=match>grey</TT> as the match result, and look no further. Again, the <I>leftmost match</I> was returned, even though we put the <TT CLASS=regex>a</TT> first in the character class, and <TT CLASS=match>gray</TT> could have been matched in the string. But the engine simply did not get that far, because another equally valid match was found to the left of it.</P><DIV CLASS=copyright> <P CLASS=copyright>Page URL: <A HREF="charclass.html" TARGET="_top">http://www.Regular-Expressions.info/charclass.html</A><BR> Last Updated: 05 April 2005<BR> Copyright &copy; 2003-2005 Jan Goyvaerts. All rights reserved.</P> </DIV> </DIV> <DIV CLASS=side><TABLE CLASS=side CELLSPACING=0 CELLPADDING=4><TR><TD CLASS=sideheader>Regex Tutorial</TD></TR><TR><TD><A HREF="tutorial.html" TARGET=_top>Introduction</A></TD></TR><TR><TD><A HREF="tutorialcnt.html" TARGET=_top>Table&nbsp;of&nbsp;Contents</A></TD></TR><TR><TD><A HREF="characters.html" TARGET=_top>Characters</A></TD></TR><TR><TD><A HREF="engine.html" TARGET=_top>Regex&nbsp;Engine&nbsp;Internals</A></TD></TR><TR><TD><A HREF="charclass.html" TARGET=_top>Character&nbsp;Classes</A></TD></TR><TR><TD><A HREF="dot.html" TARGET=_top>Dot</A></TD></TR><TR><TD><A HREF="anchors.html" TARGET=_top>Anchors</A></TD></TR><TR><TD><A HREF="wordboundaries.html" TARGET=_top>Word&nbsp;Boundaries</A></TD></TR><TR><TD><A HREF="alternation.html" TARGET=_top>Alternation</A></TD></TR><TR><TD><A HREF="optional.html" TARGET=_top>Optional&nbsp;Items</A></TD></TR><TR><TD><A HREF="repeat.html" TARGET=_top>Repetition</A></TD></TR><TR><TD><A HREF="brackets.html" TARGET=_top>Grouping&nbsp;&amp;&nbsp;Backreferences</A></TD></TR><TR><TD><A HREF="named.html" TARGET=_top>Named&nbsp;Groups</A></TD></TR><TR><TD><A HREF="unicode.html" TARGET=_top>Unicode</A></TD></TR><TR><TD><A HREF="modifiers.html" TARGET=_top>Modifiers</A></TD></TR><TR><TD><A HREF="atomic.html" TARGET=_top>Atomic&nbsp;Grouping</A></TD></TR><TR><TD><A HREF="lookaround.html" TARGET=_top>Lookahead&nbsp;&amp;&nbsp;Lookbehind</A></TD></TR><TR><TD><A HREF="lookaround2.html" TARGET=_top>Lookaround,&nbsp;part&nbsp;2</A></TD></TR><TR><TD><A HREF="continue.html" TARGET=_top>Continuing&nbsp;Matches</A></TD></TR><TR><TD><A HREF="conditional.html" TARGET=_top>Conditionals</A></TD></TR><TR><TD><A HREF="comments.html" TARGET=_top>Comments</A></TD></TR>
</TABLE><TABLE CLASS=side CELLSPACING=0 CELLPADDING=4><TR><TD CLASS=sideheader>More Information</TD></TR><TR><TD><A HREF="index-2.html" TARGET=_top>Introduction</A></TD></TR><TR><TD><A HREF="quickstart.html" TARGET=_top>Quick&nbsp;Start</A></TD></TR><TR><TD><A HREF="tutorial.html" TARGET=_top>Tutorial</A></TD></TR><TR><TD><A HREF="tools.html" TARGET=_top>Tools&nbsp;and&nbsp;Languages</A></TD></TR><TR><TD><A HREF="examples.html" TARGET=_top>Examples</A></TD></TR><TR><TD><A HREF="books.html" TARGET=_top>Books</A></TD></TR><TR><TD><A HREF="reference.html" TARGET=_top>Reference</A></TD></TR><TR><TD><A HREF="about.html" TARGET=_top>About&nbsp;This&nbsp;Site</A></TD></TR><TR><TD><A HREF="print.html" TARGET=_top>Download&nbsp;and&nbsp;Print</A></TD></TR></TABLE><P>&nbsp;</P> <TABLE CLASS=side CELLSPACING=0 CELLPADDING=4> <TR><TD CLASS=sideheader>PowerGREP 3</TD></TR> <TR><TD CLASS=ad><A HREF="http://www.powergrep.com/" TARGET=_top><IMG SRC="img/pgr.gif" WIDTH=32 HEIGHT=32 ALT="PowerGREP" ALIGN=LEFT CLASS=iconleft BORDER=0></A> <A HREF="http://www.powergrep.com/" TARGET=_top>PowerGREP</A> is probably the most powerful regex-based text processing tool available today. A knowledge worker's Swiss army knife for searching through, extracting information from, and updating piles of files.</TD></TR> <TR><TD CLASS=ad>Use regular expressions to search through large numbers of text and binary files, such as source code, correspondence, server or system logs, reference texts, archives, etc. Quickly find the files you are looking for, or extract the information you need. Look through just a handful of files, or thousands of files and folders.</TD></TR> <TR><TD CLASS=ad>Perform comprehensive text and binary replacement operations for easy maintenance of web sites, source code, reports, etc. Preview replacements before modifying files, and stay safe with flexible backup and undo options.</TD></TR> <TR><TD CLASS=ad>Work with plain text files, Unicode files, binary files, files stored in zip archives, and even MS Word documents, Excel spreadsheets and PDF files. Runs on Windows 98, ME, NT4, 2000 &amp; XP.</TD></TR> <TR><TD><A HREF="http://www.powergrep.com/" TARGET=_top>More information</A></TD></TR> <TR><TD><A HREF="http://www.powergrep.com/download.html" TARGET=_top>Download PowerGREP now</A></TD></TR> </TABLE></DIV></BODY>
<!-- Mirrored from www.regular-expressions.info/charclass.html by HTTrack Website Copier/3.x [XR&CO'2002], Mon, 14 Nov 2005 11:48:32 GMT -->
</HTML>